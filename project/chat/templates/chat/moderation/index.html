{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<div class="container mt-3">
    <h1>{% translate "Moderation center" %}</h1>
    {% include 'chat/moderation/search.html' %}
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <form action="" method="get">
                    <th scope="col">#</th>
                    <th scope="col">{% translate "Chat" %}</th>
                    <th scope="col">
                            <span>{% translate "Reported" %}</span>
                    </th>
                    <th scope="col">
                            <span>{% translate "Total Messages" %}</span>
                    </th>
                </form>
            </tr>
        </thead>
        <tbody>
            {% for chat in page_obj %}
            <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td><a href="{% url 'chat:mod_room' chat.uuid %}">{{ chat.uuid }}</a></td>
                <td>{{ chat.reports.exists }}</td>
                <td>{{ chat.messages.count }}</td>
            </tr>
            {% empty %}
            <tr>
                {% if ride %}
                <td colspan="4" class="text-center">{% translate "No chats to moderate for ride" %} {{ ride }}</td>
                {% else %}
                <td colspan="4" class="text-center">{% translate "No chats to moderate" %}</td>
                {% endif %}
            </tr>
            {% endfor %}

        </tbody>
    </table>



</div>


{% endblock content %}